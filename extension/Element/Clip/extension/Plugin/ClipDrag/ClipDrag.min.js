(function(d){d.register("Plugin","ClipDrag",{states:{mousePosition:{},dragdropPressed:!1,mouseStartX:null,mouseStartY:null},options:{autoStart:{defaults:!0},direction:{defaults:"xy"},handle:{defaults:null}},binderInit:function(a){this.autoStart&&this.domListen(a.dom,"mousedown","clipMouseDown")},binderExit:function(a){this.autoStart||this.domForget(a.dom,"mousedown","clipMouseDown")},dragdropPress:function(a,b,e){this.mouseStartX=b;this.mouseStartY=e;this.clipStartX=a.left;this.clipStartY=a.top;a.stage.dom.classList.add("ClipDragMouseDragging");
this.handle&&this.handle.classList.add("ClipDragMouseDraggingHandle");this.stateSet("dragdropPressed",!0)},dragdropRelease:function(a){this.mouseStartX=this.mouseStartY=this.clipStartX=this.clipStartY=null;a.stage.dom.classList.remove("ClipDragMouseDragging");this.handle&&this.handle.classList.remove("ClipDragMouseDraggingHandle");this.stateSet("dragdropPressed",!1)},callbacks:{stateSet:{dragdropPressed:function(a){a?(this.domListen(this.wjs.window,"mouseup","dragdropPressedMouseUp"),this.domListen(this.wjs.window,
"mousemove","dragdropPressedMouseMove")):(this.domForget(this.wjs.window,"mouseup","dragdropPressedMouseUp"),this.domForget(this.wjs.window,"mousemove","dragdropPressedMouseMove"))}},domListen:{clipMouseDown:function(a){a.preventDefault();this.dragdropPress(this.wjs.loaders.WebComp.webCompList[a.target.id],a.clientX,a.clientY)},dragdropPressedMouseMove:function(a){a.preventDefault();var b=this,e=a.clientX,d=a.clientY,c=this.direction;this.bindersEach(function(a){if("xy"===c||"y"===c)a.top=b.clipStartY-
(b.mouseStartY-d);if("xy"===c||"x"===c)a.left=b.clipStartX-(b.mouseStartX-e);a.frameNextEnable()})},dragdropPressedMouseUp:function(a){this.dragdropRelease(this.wjs.loaders.WebComp.webCompList[a.target.id])}}}})})(WjsProto);