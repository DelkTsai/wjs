// @require JsClass > BasicWebPage
(function(c){c.register("WjsLoader","WebPage",{loaderExtends:"WebComp",protoBaseClass:"BasicWebPage",autoInstance:!0,pageCurrent:null,link:function(b){this.pageShow(b)},instance:function(b,a){return this.pageCurrent=this.wjs.loaders.WebComp.instance.apply(this,arguments)},pageChange:function(b){this.pageCurrent[b]&&this.pageHide(this.pageCurrent[b])},pageShow:function(b){var a=this.wjs;this.pageCurrent?this.pageHide(b):a.get(this.type,b)?a.loaders[this.type].instance(b):a.use(this.type,b,{autoInstance:!0})},
pageHide:function(b){if(!this.pageHideStarted){var a=this,c=a.pageCurrent,d=!1,e=!1,f=function(){d&&e&&(a.pageHideStarted=!1,a.pageShow(b))};a.pageHideStarted=!0;a.wjs.use(this.type,b,{autoInstance:!1,complete:function(){d=!0;f()}});c.exit(function(){a.wjs.destroy(a.type,a.pageCurrent.type,{dependencies:!0,complete:function(){e=!0;f()}});a.pageCurrent=!1})}}})})(WjsProto);